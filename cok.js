const _0x5b6818=_0x2657;(function(_0x93643f,_0x230c30){const _0x4af915=_0x2657,_0x31d128=_0x93643f();while(!![]){try{const _0x5c476a=parseInt(_0x4af915(0x1bb))/0x1*(-parseInt(_0x4af915(0x1d5))/0x2)+parseInt(_0x4af915(0x24b))/0x3+parseInt(_0x4af915(0x1d3))/0x4+-parseInt(_0x4af915(0x276))/0x5*(parseInt(_0x4af915(0x21f))/0x6)+-parseInt(_0x4af915(0x1d9))/0x7+-parseInt(_0x4af915(0x1e9))/0x8*(-parseInt(_0x4af915(0x1de))/0x9)+parseInt(_0x4af915(0x1f4))/0xa;if(_0x5c476a===_0x230c30)break;else _0x31d128['push'](_0x31d128['shift']());}catch(_0xacb3ce){_0x31d128['push'](_0x31d128['shift']());}}}(_0x2368,0x9eebc));function _0x2657(_0x44d108,_0x4c17ac){const _0x236876=_0x2368();return _0x2657=function(_0x265792,_0x4270b6){_0x265792=_0x265792-0x1b9;let _0x163947=_0x236876[_0x265792];return _0x163947;},_0x2657(_0x44d108,_0x4c17ac);}function _0x2368(){const _0x60ec17=['www.renren.com','www.youzu.com','encode','readable','retry\x20tcpSocket\x20closed\x20error','\x27\x20target=\x27_blank\x27>nekobox优选IP自动</a>\x0a<a\x20href=\x27v2rayng://install-config?url=','decode','www.imgo.tv','/bestip/','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','getMonth','1683692NUhjup','www.baidu.com','2QBYgFn','headers','www.netease.com','www.taobao.com','6691594OtFWqt','www.zhaopin.com','RUR0dW5uZWw=','error','&fp=randomized&type=ws&host=','9IhxFyM','www.guancha.cn','weibo.com','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','www.mgtv.com','x-real-ip','stringify','www.douyin.com','pages.dev','69fb2def-12cd-4ffc-8396-e55596a15823','\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20วเลส\x20configuration\x20and\x20subscribe\x20output\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20cloudflare\x20pages\x20and\x20worker\x20severless\x20to\x20implement\x20วเลส\x20protocol\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:url\x27\x20content=\x27https://','4249064XPSDSx','&path=%2F%3Fed%3D2048#','searchParams','enqueue','www.youku.com','UDP\x20proxy\x20only\x20enabled\x20for\x20DNS\x20which\x20is\x20port\x2053','Stringified\x20UUID\x20is\x20invalid','writable','cf-connecting-ip','www.panda.tv','?format=clash','10787280IkIYmq','Host','www.mafengwo.cn','toLowerCase','167.99.73.22','getDate','https://sub.xf.free.hr/auto?host=','arrayBuffer','map','www.kuaidi100.com','www.telegraph.co.uk','uuid\x20is\x20invalid','-HTTP-','www.91.com','www.qq.com','floor','close','</pre>\x0a\x20\x20<pre>','send','pathname','www.tudou.com','application/json;charset=utf-8','random','Redirects\x20to\x20','www.cnki.net','35.219.50.99','www.secoo.com','www.cnblogs.com','&path=/','byteLength','trim','push','\x0a<button\x20onclick=\x27copyToClipboard(\x22','pipeTo','www.dianping.com','readableWebSocketStream\x20is\x20abort','buffer','getUint16','</pre>\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x09function\x20copyToClipboard(text)\x20{\x0a\x09\x20\x20navigator.clipboard.writeText(text)\x0a\x09\x09.then(()\x20=>\x20{\x0a\x09\x09\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x09\x09})\x0a\x09\x09.catch((err)\x20=>\x20{\x0a\x09\x09\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x09\x09});\x0a\x09}\x0a\x20\x20</script>\x0a\x20\x20</html>','</h2>','www.wechat.com','www.aipai.com','method','6BLSKjR','\x27\x20target=\x27_blank\x27>singbox优选IP自动</a>\x0a<a\x20href=\x27sn://subscription?url=','www.jd.com','www.ifeng.com','www.xueqiu.com','x-forwarded-for','\x22)\x27><i\x20class=\x22fa\x20fa-clipboard\x22></i>\x20Copy\x20วเลสMain</button>\x0a---------------------------------------------------------------\x0av2ray\x20with\x20bestip\x0a---------------------------------------------------------------\x0a','\x27\x20target=\x27_blank\x27>วเลส\x20节点订阅连接</a>\x0a<a\x20href=\x27clash://install-config?url=','catch','accept','padStart','addEventListener','/\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:image\x27\x20content=\x27https://cloudflare-ipfs.com/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x09<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x09<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x09<style>\x0a\x09body\x20{\x0a\x09\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x09\x20\x20background-color:\x20#f0f0f0;\x0a\x09\x20\x20color:\x20#333;\x0a\x09\x20\x20padding:\x2010px;\x0a\x09}\x0a\x0a\x09a\x20{\x0a\x09\x20\x20color:\x20#1a0dab;\x0a\x09\x20\x20text-decoration:\x20none;\x0a\x09}\x0a\x09img\x20{\x0a\x09\x20\x20max-width:\x20100%;\x0a\x09\x20\x20height:\x20auto;\x0a\x09}\x0a\x0a\x09pre\x20{\x0a\x09\x20\x20white-space:\x20pre-wrap;\x0a\x09\x20\x20word-wrap:\x20break-word;\x0a\x09\x20\x20background-color:\x20#fff;\x0a\x09\x20\x20border:\x201px\x20solid\x20#ddd;\x0a\x09\x20\x20padding:\x2015px;\x0a\x09\x20\x20margin:\x2010px\x200;\x0a\x09}\x0a\x09/*\x20Dark\x20mode\x20*/\x0a\x09@media\x20(prefers-color-scheme:\x20dark)\x20{\x0a\x09\x20\x20body\x20{\x0a\x09\x09background-color:\x20#333;\x0a\x09\x09color:\x20#f0f0f0;\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20a\x20{\x0a\x09\x09color:\x20#9db4ff;\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20pre\x20{\x0a\x09\x09background-color:\x20#282a36;\x0a\x09\x09border-color:\x20#6272a4;\x0a\x09\x20\x20}\x0a\x09}\x0a\x09</style>\x0a\x0a\x09<!--\x20Add\x20FontAwesome\x20library\x20-->\x0a\x09<link\x20rel=\x27stylesheet\x27\x20href=\x27https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\x27>\x0a\x20\x20</head>\x0a\x20\x20','safeCloseWebSocket\x20error','www.zhangzishi.cc','www.autohome.com.cn','replace','releaseLock','getFullYear','log','www.xinhuanet.com','www.suning.com','slice','referer','www.liepin.com','www.youth.cn','userID:\x20','www.pptv.com','www.dianyou.cn','/\x27\x20/>\x0a\x09<meta\x20property=\x27og:image\x27\x20content=\x27https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=','www.xunlei.com','www.ynet.com','text/html;\x20charset=utf-8','www.zol.com.cn','includes','invild\x20\x20addressType\x20is\x20','readyState','remoteConnection!.readable\x20abort','set','\x27\x20target=\x27_blank\x27>v2rayNG优选IP自动</a></p>','https://www.google.com/search?q=edtunnel','www.meituan.com','www.cnzz.com','www.ted.com','3396972HLDLMm','write','remoteSocketToWS\x20has\x20exception\x20','doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20','dns\x20udp\x20has\x20error','https://api.v1.mk/sub?target=clash&url=','command\x20','ReadableStream\x20was\x20canceled,\x20due\x20to\x20','https://cloudflare-dns.com/dns-query','www.pconline.com.cn','www.csdn.net','https://','www.zhibo8.cc','message','Upgrade','วเลส://','www.hao123.com','www.360.cn','from','readableWebSocketStream\x20pipeTo\x20error','POST','\x27\x20target=\x27_blank\x27>Clash\x20节点订阅连接</a>\x0a<a\x20href=\x27','www.51cto.com','www.bilibili.com','www.58.com','://','\x0a\x20\x20<body>\x0a\x20\x20<pre\x20style=\x27background-color:\x20transparent;\x20border:\x20none;\x27>','join','finally','split','www.qidian.com','www.toutiao.com','}\x27\x20target=\x27_blank\x27>Clash\x20for\x20Windows\x20节点订阅连接</a>\x0a<a\x20href=\x27','values','/sub/','search','manual','-HTTPS-','&uuid=','readableWebSocketStream\x20is\x20close','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','www.cntv.cn','sec-websocket-protocol','6174025hGOCxz','/cf','closed','url','QA==','tcp','toString','www.ttpaihang.com','www.eyny.com','charCodeAt','invalid\x20data','1.2.3.4','\x22)\x27><i\x20class=\x22fa\x20fa-clipboard\x22></i>\x20Copy\x20วเลสSec</button>\x0a---------------------------------------------------------------','websocket','flatMap','get','\x0a\x20\x20<head>\x0a\x09<title>EDtunnel:\x20วเลส\x20configuration</title>\x0a\x09<meta\x20name=\x27description\x27\x20content=\x27This\x20is\x20a\x20tool\x20for\x20generating\x20วเลส\x20protocol\x20configurations.\x20Give\x20us\x20a\x20star\x20on\x20GitHub\x20https://github.com/3Kmfi6HP/EDtunnel\x20if\x20you\x20found\x20it\x20useful!\x27>\x0a\x09<meta\x20name=\x27keywords\x27\x20content=\x27EDtunnel,\x20cloudflare\x20pages,\x20cloudflare\x20worker,\x20severless\x27>\x0a\x09<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x09<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20วเลส\x20configuration\x27\x20/>\x0a\x09<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x09<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20วเลส\x20configuration\x20and\x20subscribe\x20output\x27\x20/>\x0a\x09<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20cloudflare\x20pages\x20and\x20worker\x20severless\x20to\x20implement\x20วเลส\x20protocol\x27\x20/>\x0a\x09<meta\x20property=\x27og:url\x27\x20content=\x27https://','retry','SHA-256','321421YVCTkY','getWriter','www.ctrip.com','<h2>UUID:\x20','www.douban.com','www.163.com','www.881903.com','body','stack','length','invalid\x20user','DNS_RESOLVER_URL','value'];_0x2368=function(){return _0x60ec17;};return _0x2368();}import{connect}from'cloudflare:sockets';let userID=_0x5b6818(0x1e7);const พร็อกซีไอพีs=[_0x5b6818(0x20d),_0x5b6818(0x1f8)];let พร็อกซีไอพี=พร็อกซีไอพีs[Math[_0x5b6818(0x203)](Math[_0x5b6818(0x20a)]()*พร็อกซีไอพีs['length'])],dohURL=_0x5b6818(0x253);if(!isValidUUID(userID))throw new Error(_0x5b6818(0x1ff));export default{async 'fetch'(_0x38537e,_0x3158f9,_0xf8205d){const _0x298fbd=_0x5b6818;try{userID=_0x3158f9['UUID']||userID,พร็อกซีไอพี=_0x3158f9['PROXYIP']||พร็อกซีไอพี,dohURL=_0x3158f9[_0x298fbd(0x1c6)]||dohURL;let _0x356cc3=userID;userID[_0x298fbd(0x241)](',')&&(_0x356cc3=userID[_0x298fbd(0x268)](',')[0x0]);const _0x11d643=_0x38537e[_0x298fbd(0x1d6)][_0x298fbd(0x285)](_0x298fbd(0x259));if(!_0x11d643||_0x11d643!==_0x298fbd(0x283)){const _0x19e0aa=new URL(_0x38537e[_0x298fbd(0x279)]);switch(_0x19e0aa['pathname']){case _0x298fbd(0x277):{return new Response(JSON[_0x298fbd(0x1e4)](_0x38537e['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x298fbd(0x209)}});}case'/'+_0x356cc3:{const _0x219803=getวเลสConfig(userID,_0x38537e[_0x298fbd(0x1d6)][_0x298fbd(0x285)](_0x298fbd(0x1f5)));return new Response(''+_0x219803,{'status':0xc8,'headers':{'Content-Type':_0x298fbd(0x23f)}});};case _0x298fbd(0x26d)+_0x356cc3:{const _0x51c390=new URL(_0x38537e['url']),_0x453706=_0x51c390[_0x298fbd(0x1eb)],_0x1a169e=สร้างวเลสSub(userID,_0x38537e['headers'][_0x298fbd(0x285)]('Host'));return new Response(btoa(_0x1a169e),{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}});};case'/bestip/'+_0x356cc3:{const _0x15104f=_0x38537e['headers'],_0x589d1e=_0x298fbd(0x1fa)+_0x38537e[_0x298fbd(0x1d6)][_0x298fbd(0x285)](_0x298fbd(0x1f5))+_0x298fbd(0x271)+userID+_0x298fbd(0x210),_0x434f17=await fetch(_0x589d1e,{'headers':_0x15104f});return _0x434f17;};default:const _0x32cfa3=cn_hostnames[Math[_0x298fbd(0x203)](Math[_0x298fbd(0x20a)]()*cn_hostnames[_0x298fbd(0x1c4)])],_0x5b239a=new Headers(_0x38537e[_0x298fbd(0x1d6)]);_0x5b239a[_0x298fbd(0x245)](_0x298fbd(0x1f1),_0x298fbd(0x281)),_0x5b239a[_0x298fbd(0x245)](_0x298fbd(0x224),'1.2.3.4'),_0x5b239a[_0x298fbd(0x245)](_0x298fbd(0x1e3),_0x298fbd(0x281)),_0x5b239a[_0x298fbd(0x245)](_0x298fbd(0x236),_0x298fbd(0x247));const _0x43ac0e=_0x298fbd(0x256)+_0x32cfa3+_0x19e0aa[_0x298fbd(0x207)]+_0x19e0aa[_0x298fbd(0x26e)];let _0x3b09a1=new Request(_0x43ac0e,{'method':_0x38537e[_0x298fbd(0x21e)],'headers':_0x5b239a,'body':_0x38537e[_0x298fbd(0x1c2)],'redirect':_0x298fbd(0x26f)});const _0x24958d=await fetch(_0x3b09a1,{'redirect':'manual'});if([0x12d,0x12e]['includes'](_0x24958d['status']))return new Response(_0x298fbd(0x20b)+_0x32cfa3+'\x20are\x20not\x20allowed.',{'status':0x193,'statusText':'Forbidden'});return _0x24958d;}}else return await วเลสOverWSHandler(_0x38537e);}catch(_0x46b55a){let _0x40d7d4=_0x46b55a;return new Response(_0x40d7d4[_0x298fbd(0x27c)]());}}};export async function uuid_validator(_0x447c68){const _0x458e1e=_0x5b6818,_0x5e180c=_0x447c68[_0x458e1e(0x1d6)][_0x458e1e(0x285)](_0x458e1e(0x1f5)),_0x10e855=new Date(),_0x210f06=_0x5e180c[_0x458e1e(0x268)]('.')[0x0],_0x5dc05d=_0x10e855[_0x458e1e(0x231)](),_0x20b65c=String(_0x10e855[_0x458e1e(0x1d2)]()+0x1)[_0x458e1e(0x229)](0x2,'0'),_0x2a58c8=String(_0x10e855[_0x458e1e(0x1f9)]())[_0x458e1e(0x229)](0x2,'0'),_0x13e62b=_0x5dc05d+'-'+_0x20b65c+'-'+_0x2a58c8,_0x121b25=await hashHex_f(_0x210f06);console[_0x458e1e(0x232)](_0x121b25,_0x210f06,_0x13e62b);}export async function hashHex_f(_0x52b97b){const _0x1d331f=_0x5b6818,_0x5e13fb=new TextEncoder(),_0x24873c=_0x5e13fb[_0x1d331f(0x1ca)](_0x52b97b),_0x5107de=await crypto['subtle']['digest'](_0x1d331f(0x1ba),_0x24873c),_0x1b84b1=Array[_0x1d331f(0x25d)](new Uint8Array(_0x5107de)),_0x38f288=_0x1b84b1['map'](_0x4f9671=>_0x4f9671[_0x1d331f(0x27c)](0x10)[_0x1d331f(0x229)](0x2,'0'))[_0x1d331f(0x266)]('');return _0x38f288;}async function วเลสOverWSHandler(_0x352b4a){const _0x744b3c=_0x5b6818,_0x2fefcd=new WebSocketPair(),[_0x5e14c3,_0x3f61bd]=Object[_0x744b3c(0x26c)](_0x2fefcd);_0x3f61bd[_0x744b3c(0x228)]();let _0x3edd9d='',_0x38bb02='',_0x230d34=new Date();const _0x19080e=(_0x4ff413,_0x4af5e3)=>{const _0x4f42a9=_0x744b3c;console[_0x4f42a9(0x232)]('['+_0x230d34+'\x20'+_0x3edd9d+':'+_0x38bb02+']\x20'+_0x4ff413,_0x4af5e3||'');},_0x57e123=_0x352b4a['headers'][_0x744b3c(0x285)](_0x744b3c(0x275))||'',_0x5e01b3=makeReadableWebSocketStream(_0x3f61bd,_0x57e123,_0x19080e);let _0x23746b={'value':null},_0xe621f3=null,_0x5abea1=![];return _0x5e01b3[_0x744b3c(0x215)](new WritableStream({async 'write'(_0x3e9777,_0x4dca8f){const _0x15347b=_0x744b3c;if(_0x5abea1&&_0xe621f3)return _0xe621f3(_0x3e9777);if(_0x23746b[_0x15347b(0x1c7)]){const _0x41ce04=_0x23746b[_0x15347b(0x1c7)][_0x15347b(0x1f0)][_0x15347b(0x1bc)]();await _0x41ce04[_0x15347b(0x24c)](_0x3e9777),_0x41ce04['releaseLock']();return;}const {hasError:_0x14ed30,message:_0x36cf74,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x2e8f39,วเลสVersion:วเลสVersion=new Uint8Array([0x0,0x0]),isUDP:_0x1ea5d5}=processวเลสHeader(_0x3e9777,userID);_0x3edd9d=addressRemote,_0x38bb02=portRemote+'\x20'+(_0x1ea5d5?'udp':_0x15347b(0x27b))+'\x20';if(_0x14ed30)throw new Error(_0x36cf74);if(_0x1ea5d5&&portRemote!==0x35)throw new Error(_0x15347b(0x1ee));_0x1ea5d5&&portRemote===0x35&&(_0x5abea1=!![]);const _0x4964a1=new Uint8Array([วเลสVersion[0x0],0x0]),_0x39a204=_0x3e9777[_0x15347b(0x235)](_0x2e8f39);if(_0x5abea1){const {write:_0x5a63b6}=await handleUDPOutBound(_0x3f61bd,_0x4964a1,_0x19080e);_0xe621f3=_0x5a63b6,_0xe621f3(_0x39a204);return;}handleTCPOutBound(_0x23746b,addressRemote,portRemote,_0x39a204,_0x3f61bd,_0x4964a1,_0x19080e);},'close'(){const _0x5c1634=_0x744b3c;_0x19080e(_0x5c1634(0x272));},'abort'(_0x284b6b){const _0x585e11=_0x744b3c;_0x19080e(_0x585e11(0x217),JSON[_0x585e11(0x1e4)](_0x284b6b));}}))[_0x744b3c(0x227)](_0x329c54=>{const _0x4192c8=_0x744b3c;_0x19080e(_0x4192c8(0x25e),_0x329c54);}),new Response(null,{'status':0x65,'webSocket':_0x5e14c3});}async function handleTCPOutBound(_0x33d03e,_0x3fd097,_0x34a656,_0x29f178,_0x33356f,_0x1a6b38,_0x1ee9be){async function _0x42aadd(_0x1f893f,_0x5aac74){const _0x40ff83=_0x2657,_0x2b2f81=connect({'hostname':_0x1f893f,'port':_0x5aac74});_0x33d03e['value']=_0x2b2f81,_0x1ee9be('connected\x20to\x20'+_0x1f893f+':'+_0x5aac74);const _0x348b33=_0x2b2f81['writable']['getWriter']();return await _0x348b33[_0x40ff83(0x24c)](_0x29f178),_0x348b33[_0x40ff83(0x230)](),_0x2b2f81;}async function _0x1f5fa7(){const _0x283a36=_0x2657,_0x773b82=await _0x42aadd(พร็อกซีไอพี||_0x3fd097,_0x34a656);_0x773b82[_0x283a36(0x278)]['catch'](_0x475aa2=>{const _0x39bf99=_0x283a36;console[_0x39bf99(0x232)](_0x39bf99(0x1cc),_0x475aa2);})[_0x283a36(0x267)](()=>{safeCloseWebSocket(_0x33356f);}),remoteSocketToWS(_0x773b82,_0x33356f,_0x1a6b38,null,_0x1ee9be);}const _0x50c4db=await _0x42aadd(_0x3fd097,_0x34a656);remoteSocketToWS(_0x50c4db,_0x33356f,_0x1a6b38,_0x1f5fa7,_0x1ee9be);}function makeReadableWebSocketStream(_0x13c943,_0x20d944,_0x26b3cb){let _0x3be40a=![];const _0x25f68d=new ReadableStream({'start'(_0x204974){const _0x4dad5d=_0x2657;_0x13c943['addEventListener'](_0x4dad5d(0x258),_0x38f171=>{const _0x3a6e5d=_0x4dad5d,_0x40b410=_0x38f171['data'];_0x204974[_0x3a6e5d(0x1ec)](_0x40b410);}),_0x13c943[_0x4dad5d(0x22a)](_0x4dad5d(0x204),()=>{safeCloseWebSocket(_0x13c943),_0x204974['close']();}),_0x13c943[_0x4dad5d(0x22a)](_0x4dad5d(0x1dc),_0x233106=>{const _0x2b96a8=_0x4dad5d;_0x26b3cb('webSocketServer\x20has\x20error'),_0x204974[_0x2b96a8(0x1dc)](_0x233106);});const {earlyData:_0x3d1ecc,error:_0x25143d}=base64ToArrayBuffer(_0x20d944);if(_0x25143d)_0x204974[_0x4dad5d(0x1dc)](_0x25143d);else _0x3d1ecc&&_0x204974[_0x4dad5d(0x1ec)](_0x3d1ecc);},'pull'(_0x53a277){},'cancel'(_0x42b727){const _0x13ad3e=_0x2657;_0x26b3cb(_0x13ad3e(0x252)+_0x42b727),_0x3be40a=!![],safeCloseWebSocket(_0x13c943);}});return _0x25f68d;}function processวเลสHeader(_0x72581e,_0x51aff0){const _0x884076=_0x5b6818;if(_0x72581e[_0x884076(0x211)]<0x18)return{'hasError':!![],'message':_0x884076(0x280)};const _0x5aa5f9=new Uint8Array(_0x72581e[_0x884076(0x235)](0x0,0x1));let _0x4e2cc9=![],_0x5384ba=![];const _0x274a4c=new Uint8Array(_0x72581e[_0x884076(0x235)](0x1,0x11)),_0x1cf582=stringify(_0x274a4c),_0x6ef01a=_0x51aff0[_0x884076(0x241)](',')?_0x51aff0[_0x884076(0x268)](','):[_0x51aff0];_0x4e2cc9=_0x6ef01a['some'](_0x298529=>_0x1cf582===_0x298529[_0x884076(0x212)]())||_0x6ef01a[_0x884076(0x1c4)]===0x1&&_0x1cf582===_0x6ef01a[0x0][_0x884076(0x212)](),console[_0x884076(0x232)](_0x884076(0x239)+_0x1cf582);if(!_0x4e2cc9)return{'hasError':!![],'message':_0x884076(0x1c5)};const _0x530268=new Uint8Array(_0x72581e[_0x884076(0x235)](0x11,0x12))[0x0],_0x190df1=new Uint8Array(_0x72581e[_0x884076(0x235)](0x12+_0x530268,0x12+_0x530268+0x1))[0x0];if(_0x190df1===0x1)_0x5384ba=![];else{if(_0x190df1===0x2)_0x5384ba=!![];else return{'hasError':!![],'message':_0x884076(0x251)+_0x190df1+_0x884076(0x1d1)};}const _0x3db51c=0x12+_0x530268+0x1,_0x2b8dda=_0x72581e['slice'](_0x3db51c,_0x3db51c+0x2),_0x3f68f7=new DataView(_0x2b8dda)[_0x884076(0x219)](0x0);let _0x3bb442=_0x3db51c+0x2;const _0x155806=new Uint8Array(_0x72581e[_0x884076(0x235)](_0x3bb442,_0x3bb442+0x1)),_0x57bfa3=_0x155806[0x0];let _0x8018a0=0x0,_0x27dab3=_0x3bb442+0x1,_0x486e9f='';switch(_0x57bfa3){case 0x1:_0x8018a0=0x4,_0x486e9f=new Uint8Array(_0x72581e[_0x884076(0x235)](_0x27dab3,_0x27dab3+_0x8018a0))['join']('.');break;case 0x2:_0x8018a0=new Uint8Array(_0x72581e[_0x884076(0x235)](_0x27dab3,_0x27dab3+0x1))[0x0],_0x27dab3+=0x1,_0x486e9f=new TextDecoder()[_0x884076(0x1ce)](_0x72581e[_0x884076(0x235)](_0x27dab3,_0x27dab3+_0x8018a0));break;case 0x3:_0x8018a0=0x10;const _0x4b1f97=new DataView(_0x72581e[_0x884076(0x235)](_0x27dab3,_0x27dab3+_0x8018a0)),_0x59b21a=[];for(let _0x192451=0x0;_0x192451<0x8;_0x192451++){_0x59b21a[_0x884076(0x213)](_0x4b1f97['getUint16'](_0x192451*0x2)[_0x884076(0x27c)](0x10));}_0x486e9f=_0x59b21a[_0x884076(0x266)](':');break;default:return{'hasError':!![],'message':_0x884076(0x242)+_0x57bfa3};}if(!_0x486e9f)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0x57bfa3};return{'hasError':![],'addressRemote':_0x486e9f,'addressType':_0x57bfa3,'portRemote':_0x3f68f7,'rawDataIndex':_0x27dab3+_0x8018a0,'วเลสVersion':_0x5aa5f9,'isUDP':_0x5384ba};}async function remoteSocketToWS(_0x11c33c,_0x3cebfd,_0x5af53e,_0x443d7f,_0x62e45){const _0x4cb824=_0x5b6818;let _0x308fde=0x0,_0x3ec171=[],_0xa7769c=_0x5af53e,_0x5598eb=![];await _0x11c33c[_0x4cb824(0x1cb)][_0x4cb824(0x215)](new WritableStream({'start'(){},async 'write'(_0x49d527,_0x3dabb3){const _0x8bf9a7=_0x4cb824;_0x5598eb=!![],_0x308fde++,_0x3cebfd['readyState']!==WS_READY_STATE_OPEN&&_0x3dabb3[_0x8bf9a7(0x1dc)](_0x8bf9a7(0x1e1)),_0xa7769c?(_0x3cebfd[_0x8bf9a7(0x206)](await new Blob([_0xa7769c,_0x49d527])['arrayBuffer']()),_0xa7769c=null):_0x3cebfd[_0x8bf9a7(0x206)](_0x49d527);},'close'(){_0x62e45('remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20'+_0x5598eb);},'abort'(_0x2b2ebb){const _0x89f19d=_0x4cb824;console[_0x89f19d(0x1dc)](_0x89f19d(0x244),_0x2b2ebb);}}))[_0x4cb824(0x227)](_0x3edc56=>{const _0xd6d641=_0x4cb824;console[_0xd6d641(0x1dc)](_0xd6d641(0x24d),_0x3edc56[_0xd6d641(0x1c3)]||_0x3edc56),safeCloseWebSocket(_0x3cebfd);}),_0x5598eb===![]&&_0x443d7f&&(_0x62e45(_0x4cb824(0x1b9)),_0x443d7f());}function base64ToArrayBuffer(_0x4d6905){const _0xfe6a9f=_0x5b6818;if(!_0x4d6905)return{'earlyData':null,'error':null};try{_0x4d6905=_0x4d6905[_0xfe6a9f(0x22f)](/-/g,'+')['replace'](/_/g,'/');const _0x4818ec=atob(_0x4d6905),_0x5b2f40=Uint8Array[_0xfe6a9f(0x25d)](_0x4818ec,_0x1054eb=>_0x1054eb[_0xfe6a9f(0x27f)](0x0));return{'earlyData':_0x5b2f40[_0xfe6a9f(0x218)],'error':null};}catch(_0xfa10a2){return{'earlyData':null,'error':_0xfa10a2};}}function isValidUUID(_0x3c201c){const _0x5a6fe5=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x5a6fe5['test'](_0x3c201c);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0xf6f474){const _0x2caeb8=_0x5b6818;try{(_0xf6f474[_0x2caeb8(0x243)]===WS_READY_STATE_OPEN||_0xf6f474['readyState']===WS_READY_STATE_CLOSING)&&_0xf6f474[_0x2caeb8(0x204)]();}catch(_0x15ace4){console['error'](_0x2caeb8(0x22c),_0x15ace4);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0x5b6818(0x213)]((i+0x100)['toString'](0x10)['slice'](0x1));}function unsafeStringify(_0x3106a5,_0x256ce1=0x0){const _0x262e0e=_0x5b6818;return(byteToHex[_0x3106a5[_0x256ce1+0x0]]+byteToHex[_0x3106a5[_0x256ce1+0x1]]+byteToHex[_0x3106a5[_0x256ce1+0x2]]+byteToHex[_0x3106a5[_0x256ce1+0x3]]+'-'+byteToHex[_0x3106a5[_0x256ce1+0x4]]+byteToHex[_0x3106a5[_0x256ce1+0x5]]+'-'+byteToHex[_0x3106a5[_0x256ce1+0x6]]+byteToHex[_0x3106a5[_0x256ce1+0x7]]+'-'+byteToHex[_0x3106a5[_0x256ce1+0x8]]+byteToHex[_0x3106a5[_0x256ce1+0x9]]+'-'+byteToHex[_0x3106a5[_0x256ce1+0xa]]+byteToHex[_0x3106a5[_0x256ce1+0xb]]+byteToHex[_0x3106a5[_0x256ce1+0xc]]+byteToHex[_0x3106a5[_0x256ce1+0xd]]+byteToHex[_0x3106a5[_0x256ce1+0xe]]+byteToHex[_0x3106a5[_0x256ce1+0xf]])[_0x262e0e(0x1f7)]();}function stringify(_0x2ff1a4,_0x207048=0x0){const _0x4da507=_0x5b6818,_0x166589=unsafeStringify(_0x2ff1a4,_0x207048);if(!isValidUUID(_0x166589))throw TypeError(_0x4da507(0x1ef));return _0x166589;}async function handleUDPOutBound(_0x20231c,_0x3cc18d,_0x4b276e){const _0x1fe4d2=_0x5b6818;let _0x4df38e=![];const _0x2fbf18=new TransformStream({'start'(_0x1b9781){},'transform'(_0x3f94e5,_0x4733ba){const _0x37cdda=_0x2657;for(let _0x56b1af=0x0;_0x56b1af<_0x3f94e5[_0x37cdda(0x211)];){const _0x5ee6b1=_0x3f94e5['slice'](_0x56b1af,_0x56b1af+0x2),_0x36b27b=new DataView(_0x5ee6b1)['getUint16'](0x0),_0x581ba3=new Uint8Array(_0x3f94e5['slice'](_0x56b1af+0x2,_0x56b1af+0x2+_0x36b27b));_0x56b1af=_0x56b1af+0x2+_0x36b27b,_0x4733ba[_0x37cdda(0x1ec)](_0x581ba3);}},'flush'(_0x4ec2c5){}});_0x2fbf18['readable'][_0x1fe4d2(0x215)](new WritableStream({async 'write'(_0x57fcdb){const _0x3fce5a=_0x1fe4d2,_0x476537=await fetch(dohURL,{'method':_0x3fce5a(0x25f),'headers':{'content-type':'application/dns-message'},'body':_0x57fcdb}),_0x33e2c2=await _0x476537[_0x3fce5a(0x1fb)](),_0x30f993=_0x33e2c2[_0x3fce5a(0x211)],_0x2d933f=new Uint8Array([_0x30f993>>0x8&0xff,_0x30f993&0xff]);_0x20231c['readyState']===WS_READY_STATE_OPEN&&(_0x4b276e(_0x3fce5a(0x24e)+_0x30f993),_0x4df38e?_0x20231c[_0x3fce5a(0x206)](await new Blob([_0x2d933f,_0x33e2c2])[_0x3fce5a(0x1fb)]()):(_0x20231c['send'](await new Blob([_0x3cc18d,_0x2d933f,_0x33e2c2])[_0x3fce5a(0x1fb)]()),_0x4df38e=!![]));}}))[_0x1fe4d2(0x227)](_0x24a70c=>{const _0x4e965b=_0x1fe4d2;_0x4b276e(_0x4e965b(0x24f)+_0x24a70c);});const _0x153f6a=_0x2fbf18[_0x1fe4d2(0x1f0)][_0x1fe4d2(0x1bc)]();return{'write'(_0x222f3b){const _0xf79567=_0x1fe4d2;_0x153f6a[_0xf79567(0x24c)](_0x222f3b);}};}const at=_0x5b6818(0x27a),pt='dmxlc3M=',ed=_0x5b6818(0x1db);function getวเลสConfig(_0x3f4409,_0x2ebef1){const _0x29b3ca=_0x5b6818,_0x4c26ac=':443?encryption=none&security=tls&sni='+_0x2ebef1+_0x29b3ca(0x1dd)+_0x2ebef1+_0x29b3ca(0x1ea)+_0x2ebef1,_0x46d194='################################################################',_0x263ac2=_0x3f4409[_0x29b3ca(0x268)](','),_0x22b928=_0x263ac2[_0x29b3ca(0x1fc)](_0x464ba5=>{const _0x5e7153=_0x29b3ca,_0x555286=atob(pt)+_0x5e7153(0x264)+_0x464ba5+atob(at)+_0x2ebef1+_0x4c26ac,_0x2c222e=atob(pt)+_0x5e7153(0x264)+_0x464ba5+atob(at)+พร็อกซีไอพี+_0x4c26ac;return _0x5e7153(0x1be)+_0x464ba5+_0x5e7153(0x21b)+_0x46d194+'\x0av2ray\x20default\x20ip\x0a---------------------------------------------------------------\x0a'+_0x555286+_0x5e7153(0x214)+_0x555286+_0x5e7153(0x225)+_0x2c222e+_0x5e7153(0x214)+_0x2c222e+_0x5e7153(0x282);})[_0x29b3ca(0x266)]('\x0a'),_0x260cce=_0x29b3ca(0x256)+_0x2ebef1+'/sub/'+_0x263ac2[0x0]+_0x29b3ca(0x1f3),_0x3c8143=_0x29b3ca(0x256)+_0x2ebef1+_0x29b3ca(0x1d0)+_0x263ac2[0x0],_0x820e64=_0x29b3ca(0x250)+encodeURIComponent(_0x260cce)+_0x29b3ca(0x273),_0x1af704='\x0a<p\x20align=\x27center\x27><img\x20src=\x27https://cloudflare-ipfs.com/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20alt=\x27图片描述\x27\x20style=\x27margin-bottom:\x20-50px;\x27>\x0a<b\x20style=\x27font-size:\x2015px;\x27>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20วเลส\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project\x20for\x20more:</b>\x0a<b\x20style=\x27font-size:\x2015px;\x27>欢迎！这是生成\x20วเลส\x20协议的配置。如果您发现这个项目很好用，请查看我们的\x20GitHub\x20项目给我一个star：</b>\x0a<a\x20href=\x27https://github.com/3Kmfi6HP/EDtunnel\x27\x20target=\x27_blank\x27>EDtunnel\x20-\x20https://github.com/3Kmfi6HP/EDtunnel</a>\x0a<iframe\x20src=\x27https://ghbtns.com/github-btn.html?user=USERNAME&repo=REPOSITORY&type=star&count=true&size=large\x27\x20frameborder=\x270\x27\x20scrolling=\x270\x27\x20width=\x27170\x27\x20height=\x2730\x27\x20title=\x27GitHub\x27></iframe>\x0a<a\x20href=\x27//'+_0x2ebef1+_0x29b3ca(0x26d)+_0x263ac2[0x0]+_0x29b3ca(0x226)+encodeURIComponent(_0x29b3ca(0x256)+_0x2ebef1+_0x29b3ca(0x26d)+_0x263ac2[0x0]+_0x29b3ca(0x1f3))+_0x29b3ca(0x26b)+_0x820e64+_0x29b3ca(0x260)+_0x3c8143+'\x27\x20target=\x27_blank\x27>优选IP自动节点订阅</a>\x0a<a\x20href=\x27clash://install-config?url='+encodeURIComponent(_0x3c8143)+'\x27\x20target=\x27_blank\x27>Clash优选IP自动</a>\x0a<a\x20href=\x27sing-box://import-remote-profile?url='+encodeURIComponent(_0x3c8143)+_0x29b3ca(0x220)+encodeURIComponent(_0x3c8143)+_0x29b3ca(0x1cd)+encodeURIComponent(_0x3c8143)+_0x29b3ca(0x246),_0x357f5e=_0x29b3ca(0x286)+_0x2ebef1+_0x29b3ca(0x23c)+encodeURIComponent(_0x29b3ca(0x25a)+_0x3f4409[_0x29b3ca(0x268)](',')[0x0]+'@'+_0x2ebef1+_0x4c26ac)+_0x29b3ca(0x1e8)+_0x2ebef1+_0x29b3ca(0x22b);return'\x0a\x20\x20<html>\x0a\x20\x20'+_0x357f5e+_0x29b3ca(0x265)+_0x1af704+_0x29b3ca(0x205)+_0x22b928+_0x29b3ca(0x21a);}const เซ็ตพอร์ตHttp=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),เซ็ตพอร์ตHttps=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function สร้างวเลสSub(_0x6ae836,_0x563c43){const _0x1e0450=_0x5b6818,_0x4e80b3=_0x6ae836[_0x1e0450(0x241)](',')?_0x6ae836['split'](','):[_0x6ae836],_0x4f076b='?encryption=none&security=none&fp=random&type=ws&host='+_0x563c43+_0x1e0450(0x1ea),_0x3be0e3='?encryption=none&security=tls&sni='+_0x563c43+'&fp=random&type=ws&host='+_0x563c43+_0x1e0450(0x1ea),_0x1fa500=_0x4e80b3[_0x1e0450(0x284)](_0x46bf8d=>{const _0x3dfbf=_0x1e0450,_0x130c1b=Array[_0x3dfbf(0x25d)](เซ็ตพอร์ตHttp)[_0x3dfbf(0x284)](_0xf58817=>{const _0x56b3b9=_0x3dfbf;if(!_0x563c43[_0x56b3b9(0x241)](_0x56b3b9(0x1e6))){const _0x2f473b=_0x563c43+_0x56b3b9(0x200)+_0xf58817,_0x45e69b=atob(pt)+_0x56b3b9(0x264)+_0x46bf8d+atob(at)+_0x563c43+':'+_0xf58817+_0x4f076b+_0x2f473b;return พร็อกซีไอพีs[_0x56b3b9(0x284)](_0x18cfd2=>{const _0x277e88=_0x56b3b9,_0x422b89=atob(pt)+_0x277e88(0x264)+_0x46bf8d+atob(at)+_0x18cfd2+':'+_0xf58817+_0x4f076b+_0x2f473b+'-'+_0x18cfd2+'-'+atob(ed);return[_0x45e69b,_0x422b89];});}return[];}),_0x5a6aba=Array['from'](เซ็ตพอร์ตHttps)[_0x3dfbf(0x284)](_0x19058a=>{const _0xd01cea=_0x3dfbf,_0x1d8d54=_0x563c43+_0xd01cea(0x270)+_0x19058a,_0x32df96=atob(pt)+_0xd01cea(0x264)+_0x46bf8d+atob(at)+_0x563c43+':'+_0x19058a+_0x3be0e3+_0x1d8d54;return พร็อกซีไอพีs[_0xd01cea(0x284)](_0x23ce40=>{const _0x3d8863=atob(pt)+'://'+_0x46bf8d+atob(at)+_0x23ce40+':'+_0x19058a+_0x3be0e3+_0x1d8d54+'-'+_0x23ce40+'-'+atob(ed);return[_0x32df96,_0x3d8863];});});return[..._0x130c1b,..._0x5a6aba];});return _0x1fa500[_0x1e0450(0x266)]('\x0a');}const cn_hostnames=[_0x5b6818(0x1e0),_0x5b6818(0x1d4),_0x5b6818(0x202),_0x5b6818(0x1d8),_0x5b6818(0x221),'www.sina.com.cn','www.sohu.com','www.tmall.com',_0x5b6818(0x1c0),'www.zhihu.com',_0x5b6818(0x1ed),_0x5b6818(0x233),_0x5b6818(0x1bf),_0x5b6818(0x248),_0x5b6818(0x26a),_0x5b6818(0x222),_0x5b6818(0x22e),_0x5b6818(0x25c),_0x5b6818(0x1e5),_0x5b6818(0x1fd),_0x5b6818(0x21c),_0x5b6818(0x255),_0x5b6818(0x1cf),'www.aliyun.com',_0x5b6818(0x27e),_0x5b6818(0x1e2),_0x5b6818(0x23d),_0x5b6818(0x25b),_0x5b6818(0x262),_0x5b6818(0x238),'www.hupu.com',_0x5b6818(0x1c9),_0x5b6818(0x1f2),_0x5b6818(0x208),_0x5b6818(0x240),'www.toutiao.io','www.tiktok.com',_0x5b6818(0x1d7),_0x5b6818(0x20c),_0x5b6818(0x257),_0x5b6818(0x22d),_0x5b6818(0x223),'www.qqgongyi.com','www.ximalaya.com',_0x5b6818(0x216),_0x5b6818(0x234),_0x5b6818(0x1da),'www.jianshu.com',_0x5b6818(0x1f6),_0x5b6818(0x261),_0x5b6818(0x269),_0x5b6818(0x1bd),_0x5b6818(0x254),_0x5b6818(0x249),_0x5b6818(0x1fe),_0x5b6818(0x23e),_0x5b6818(0x24a),_0x5b6818(0x1c8),_0x5b6818(0x23a),_0x5b6818(0x237),_0x5b6818(0x1c1),_0x5b6818(0x21d),_0x5b6818(0x27d),'www.quyaoya.com',_0x5b6818(0x201),_0x5b6818(0x23b),'www.tmtpost.com',_0x5b6818(0x1bf),_0x5b6818(0x1df),'www.so.com',_0x5b6818(0x263),_0x5b6818(0x20f),_0x5b6818(0x274),_0x5b6818(0x20e)];
